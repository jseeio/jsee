<html>
  <div id="jsee-container"></div>
  <script src="/dist/jsee.js"></script>
  <script>
    new JSEE({
      schema: {
        model: {
          code: function (data) {
            var r = parseInt(data.color.slice(1, 3), 16)
            var g = parseInt(data.color.slice(3, 5), 16)
            var b = parseInt(data.color.slice(5, 7), 16)
            var brightness = (0.299 * r + 0.587 * g + 0.114 * b) / 255
            var w = data.width
            var h = data.height
            return {
              preview: '<div style="width:' + w + 'px;height:' + h + 'px;'
                + 'background:' + data.color + ';border-radius:' + data.radius + 'px;'
                + 'opacity:' + (data.opacity / 100) + ';'
                + 'display:flex;align-items:center;justify-content:center;'
                + 'color:' + (brightness > 0.5 ? '#000' : '#fff') + ';'
                + 'font-size:14px">'
                + w + ' Ã— ' + h
                + '</div>',
              css: 'background: ' + data.color + ';\n'
                + 'width: ' + w + 'px;\n'
                + 'height: ' + h + 'px;\n'
                + 'border-radius: ' + data.radius + 'px;\n'
                + 'opacity: ' + (data.opacity / 100).toFixed(2) + ';'
            }
          },
          worker: false,
          autorun: true
        },
        inputs: [
          { name: 'color', type: 'color', default: '#3498db', reactive: true },
          { name: 'width', type: 'slider', min: 50, max: 400, default: 200, reactive: true },
          { name: 'height', type: 'slider', min: 50, max: 400, default: 150, reactive: true },
          { name: 'radius', type: 'slider', min: 0, max: 100, default: 8, reactive: true },
          { name: 'opacity', type: 'slider', min: 0, max: 100, default: 100, reactive: true }
        ],
        outputs: [
          { name: 'preview', type: 'html' },
          { name: 'css', type: 'code' }
        ]
      },
      container: '#jsee-container'
    })
  </script>
</html>
